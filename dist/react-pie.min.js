!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("d3")):"function"==typeof define&&define.amd?define(["react","d3"],e):"object"==typeof exports?exports.Pie=e(require("react"),require("d3")):t.Pie=e(t.React,t.d3)}(this,function(t,e){return function(t){function e(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){var n=r(1),a=r(2),i=n.createClass({displayName:"Pie",propTypes:{data:n.PropTypes.array.isRequired,colorRange:n.PropTypes.array.isRequired},getInitialState:function(){return{data:this.props.data,colorRange:this.props.colorRange,arcRadius:Math.min(this.props.width,this.props.height)/2}},_me:null,_color:function(){for(var t=[],e=this.state.data.length,r=this.state.colorRange.length,n=0;r>n;n++)t.push(e*n/r);return a.scale.linear().domain(t).range(this.state.colorRange)},_arc:function(){return a.svg.arc().outerRadius(this.state.arcRadius-10).innerRadius(0)},_pie:function(t){return a.layout.pie().sort(null).value(function(t){return t.quantity}).call(null,t)},_renderGraph:function(){var t=this;this._me||(this._me=a.select(n.findDOMNode(this.refs.graph)).append("g").attr("transform","translate("+this.props.width/2+","+this.props.height/2+")"));var e=this._me.selectAll(".arc").data(this._pie(this.state.data)).enter().append("g").attr("class","arc");e.append("path").attr("d",this._arc()).style("fill",function(e,r){return t._color().call(null,r)}),e.append("text").attr("transform",function(e){return"translate("+t._arc().centroid(e)+")"}).attr("dy",".35em").style("text-anchor","middle").text(function(t){return t.data.text})},componentDidMount:function(){this._renderGraph()},shouldComponentUpdate:function(t){return this._renderGraph(),!1},render:function(){return n.DOM.svg({width:"100%",height:this.props.height,ref:"graph"})}});t.exports=i},function(e,r){e.exports=t},function(t,r){t.exports=e}])});